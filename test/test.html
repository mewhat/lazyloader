<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
      * {
          margin: 0;
          padding: 0;
      }
      #pre {
        height: 400px; width: 300px; background: blue;
      }
      .midd .test {
        height: 300px; width: 100%; background: #ddd; margin-top: 10px;
      }
      .midd #mini {
        height: 300px; width: 100%; background: #ddd;
      }
    </style>
</head>
<body>
    <div id="pre">
      <div class="midd">
        <div class="test"></div><div class="test"></div><div class="test"></div>
        <div class="test"></div><div class="test"></div><div class="test"></div>
        <div id="mini">
          <p>2333333</p>
        </div>
      </div>
    </div>
    <!-- <script src="./test.js"></script> -->
    <script src="../lib/lazyloader1.js"></script>
    <script type="text/javascript">
      var init = function () {
          setTimeout(function() {
              var items = document.getElementById('mini').parentElement;
              var li = document.createElement('div');
              li.className = 'test';
              li.style.width = '100%';
              li.style.height = '300px';
              li.style.background = 'yellow';
              li.style.marginTop = '10px';
              items.appendChild(li);
          }, 100);
      }
      // window.lazyloader('mini', 200, init);.lazy('mini', 200, init);
      window.lazyloader.lazy('mini', 'pre', 200, init);
      setTimeout(function() {
        // 5S之后移除监听器
        window.lazyloader.remove('mini');
      }, 5000);
    </script>
</body>
</html>
